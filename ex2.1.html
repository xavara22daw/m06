<!-- 
    Exercici 2.1 
    Autor: Xavi Aranda
    Data: 04/10/2022
-->


<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ca">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>Càlcul de velocitats mitjanes</title>
</head>

<body>
	<p><b><u>APLICACIÓ PEL CÀLCUL DE VELOCITATS MITJANES</u></b></p>
	<b>a) Introudeix les dades de velocitat en quilòmetres per hora (Km/h):<br></b>
	<table>
		<tbody>
			<tr>
				<td>Mostra de velocitat 1:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 2:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 3:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 4:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 5:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 6:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 7:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 8:</td>
				<td><input type="text" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
		</tbody>
	</table>
	<br>
	<b>b) Escull les unitats de velocitat del resultat:</b><br>
	<input name="uv[]" value="kmh" type="checkbox" checked>Km per hora (Km/h)<br>
	<input name="uv[]" value="mph" type="checkbox">Milles per hora (mph)<br>
	<input name="uv[]" value="mps" type="checkbox">Metres per segon (m/s)<br>
	<br>
	<button onclick='fCalculaMitjanes()'>Calcula mitjanes</button>
	<button onclick='fNetejaDades()'>Neteja dades</button>
	<p><b>RESULTATS:</b></p>
	<p id="resultats"></p>
	<button onclick='fNetejaResultats()'>Neteja resultats</button>
	<script>
		function fCalculaMitjanes() {
			document.getElementById("resultats").innerHTML = ``
						
			// FER MITJANA
			var mitjana = 0;
			let numMitj = document.getElementsByName('vel[]');
			for (let i = 0; i < numMitj.length; i++) {
				mitjana += parseInt(numMitj[i].value);
			}
			mitjana = mitjana / numMitj.length;
			// *******************************
			
			// Calcular checkbox i mostrar mitjana segons l'unitat
			var checkbox = document.getElementsByName("uv[]");

			for (let i = 0; i < checkbox.length; i++){
				if (checkbox[i].checked == true){
					if (checkbox[i].value == "kmh"){
						document.getElementById("resultats").innerHTML += `La mitjana de velocitat en kmh és ${mitjana.toFixed(2)}<br>`;

					}
					if (checkbox[i].value == "mph"){
						mitjana = mitjana / 1.609

						document.getElementById("resultats").innerHTML += `La mitjana de velocitat en mph és ${mitjana.toFixed(2)}<br>`;
					}
					if (checkbox[i].value == "mps"){
						mitjana = mitjana / 3.6
						document.getElementById("resultats").innerHTML += `La mitjana de velocitat en mps és ${mitjana.toFixed(2)}<br>`;
					}
				}
			}
			
			
		}

		function fNetejaDades() {
			let numMitj = document.getElementsByName('vel[]');
			for (let i = 0; i < numMitj.length; i++) {
				(numMitj[i].value) = 0;
			}
		}

		function fNetejaResultats() {
			document.getElementById("resultats").innerHTML = ``
		}
	</script>
</body>

</html>